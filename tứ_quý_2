import sys
from PyQt6.QtWidgets import QApplication, QMainWindow
from tuquy2 import Ui_MainWindow  # file .py được convert từ .ui
class GiaodienChinh(QMainWindow):
    def __init__(self):
        super().__init__()
        self.ui = Ui_MainWindow()
        self.ui.setupUi(self)
        self.ui.btnthem.clicked.connect(self.tinh_gpa)
        self.ui.btnxoa.clicked.connect(self.lam_lai)

    #lưu kết quả của tổng điểm và tổng tín chỉ khi người dùng nhấn
        self.tong_diem = 0
        self.tong_tinchi = 0

    def tinh_gpa(self):
        try:
            diem = float(self.ui.lnediem.text())
            tinchi = int(self.ui.lnetinchi.text())

            # Cộng dồn vào điểm
            self.tong_diem += diem * tinchi
            self.tong_tinchi += tinchi

            # Tính GPA
            gpa = self.tong_diem / self.tong_tinchi

            #Hiển thị kết quả ra ô output
            self.ui.lnekq.setText(str(gpa))

            # Xoá ô nhập sau khi thêm điểm, tín chỉ
            self.ui.lnediem.clear()
            self.ui.lnetinchi.clear()

        except ValueError:
            self.ui.lnekq.setText("Lỗi! Nhập sai kiểu dữ liệu!")


    def lam_lai(self):
        # Reset toàn bộ dữ liệu
        self.tong_diem = 0
        self.tong_tinchi = 0
        self.ui.lnekq.setText("0")
        self.ui.lnediem.clear()
        self.ui.lnetinchi.clear()


if __name__ == "__main__":
    app = QApplication(sys.argv)
    main = GiaodienChinh()
    main.show()
    sys.exit(app.exec())






